<h1>Lesson Plan - Callbacks</h1>
<h2>[1:00] Objectives</h2>
<ul>
<li>Expand upon students' knowledge of <code>functions</code> and <code>variables</code>.</li>
<li>Establish what a <code>callback</code> refers to in Computer Science.</li>
<li>Introduce the relationship between a <code>function</code> and a <code>callback</code>.</li>
<li>Experience first-class functions first-hand via a live-action <code>callback</code> demonstration in JavaScript.</li>
</ul>
<h2>[7:00] Callbacks: Theory and Implementation</h2>
<h3>[1:15] Variables vs Functions</h3>
<ul>
<li>Inform students that a <code>function</code> can be a variable, too! Functions are just another type of value.</li>
<li>All programming languages do not adhere to this principle, however. Lucky for us, JavaScript is but one example of a language that implements <strong>first-class functions: the ability to store functions as variables</strong>.</li>
<li>Since a <code>function</code> can be a variable, that means we can pass a <code>function</code> as an argument to another <code>function</code>.</li>
<li>When a <code>function</code> is passed to another <code>function</code>, we use a technique known as a <code>callback</code> in programming.</li>
</ul>
<h3>[1:00] Introducing Callbacks</h3>
<ul>
<li>We now know we save functions in variables then pass them as arguments to functions. What does that mean?</li>
<li>Developers typically intend for the <code>function</code> receiving the callback to &quot;do some work,&quot; then call back the <code>function</code> the developer passed in. When this <code>callback function</code> is executed, the results of the trigger function are passed to the <code>callback function</code>. We can then use that data in our programs effectively.</li>
</ul>
<h3>[4:00] Live Code: Simple Callback</h3>
<ul>
<li>Open up your editor and create a new JavaScript file.</li>
<li>Inform students that you'll now create a simple callback that effectively demonstrates it's usage. Remember the Marco Polo game you used to play as a kid? Let's recreate that together right here, right now.</li>
</ul>
<pre><code class="language-javascript">// 01-marco-polo.js
// Introducing basic callbacks by implementing a simple version of a childhood game.

function getShoutResponse(phrase) {
  if (phrase === &quot;Marco&quot;) {
    console.log(&quot;Marco? Polo!&quot;);
  } else {
    console.log(`${phrase}? Who?!`);
  }
}

function shoutItOut(phrase, respondToShout) {
  respondToShout(phrase);
}

shoutItOut(&quot;Marco&quot;, getShoutResponse);
shoutItOut(&quot;Dani&quot;, getShoutResponse);
</code></pre>
<ul>
<li>
<p>Key points to cover:</p>
<ul>
<li>Passing a <code>function</code> to another <code>function</code> does not require the use of parenthesis. Parenthesis execute a <code>function</code> immediately. That isn't what we want here!  We want to run the <code>function</code> when someone shouts &quot;Marco!&quot;</li>
<li>Rule of thumb: don't include parenthesis when passing a <code>function</code> as an argument --- unless you intend to use the <strong>result</strong> of that <code>function</code>.</li>
</ul>
</li>
<li>
<p>Let's refactor the code a little and implement a different approach to a <code>callback</code>: <strong>anonymous functions</strong>.</p>
</li>
<li>
<p>Anonymous functions are aptly named --- remember <code>shoutItOut</code> and <code>getShoutResponse</code> in our last example? In order to declare those functions, I had to think up a name for them. With anonymous callbacks, one need not name the callback function. Upon completion of <code>shoutItOut</code>, the body of the anonymous callback <code>function</code> is executed.</p>
</li>
</ul>
<pre><code class="language-javascript">// 02-marco-polo-refactor.js
// Introducing anonymous functions, closures, and lexical scope.

function shoutItOut(phrase) {
  return function() {
    if (phrase === &quot;Marco&quot;) {
      console.log(`${phrase}? Who?!`);
    } else {
      console.log(`${phrase} who?!`);
    }
  };
}

shoutItOut(&quot;Marco&quot;)();
shoutItOut(&quot;Dani&quot;)();
</code></pre>
<h3>[0:45] Recap</h3>
<ol>
<li>We can store <code>functions</code> in variables, just like any other value.</li>
<li>A <code>callback</code> is just a <code>function</code> that is passed to another <code>function</code> as one of it's arguments.</li>
<li>A <code>function</code>, and therefore, a <code>callback</code>, can have a name, or can be implemented anonymously.</li>
</ol>
<h2>[10:00] Activity - Puck.js</h2>
<ul>
<li>
<p>The best way to understand a new concept in programming is through direct experience. In this activity, we'll demonstrate what a <code>callback</code> looks like in real-life via physical, tactile buttons that trigger a change to a website.</p>
</li>
<li>
<p>Distribute a Puck.js device to each side of the room. Hand it to a student, and let them know they'll be assisting you in your demonstration today.</p>
</li>
<li>
<p>Inform students that this might look like an ordinary, round white puck to them --- what if you told them these were special buttons that could communicate with a website you've created?</p>
</li>
<li>
<p>Today, we're going to experience the power of a <code>callback</code> via a live action demonstration.</p>
</li>
<li>
<p>Share the website's User Story with your students:</p>
<ol>
<li>User <strong>opens up website in Chrome</strong>.</li>
<li>System <strong>greets User with instructions</strong>.</li>
<li>User <strong>pairs Puck.js device</strong> with Chrome.</li>
<li>User <strong>&quot;clicks&quot; Puck.js device</strong> in order to <strong>trigger a <code>callback</code></strong>.</li>
<li>System <strong>responds to trigger</strong> and <strong>executes a <code>callback</code></strong> that:
<ol>
<li><strong>Visualizes</strong> the <strong>trigger and <code>callback</code> code</strong>.</li>
<li><strong>Generates</strong> a <strong>random RGB color</strong>.</li>
<li><strong>Changes</strong> the <strong>background color</strong> on the site to the aforementioned <strong>generated RGB color.</strong></li>
<li><strong>Lights up an LED</strong> of the <strong>corresponding color</strong> on the User's Puck.js device.</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Ask students to press down on the Puck.js device you've distributed.</p>
<ul>
<li><strong>Ask</strong>: what happens when you press down?</li>
<li><strong>Answer</strong>: It clicks!</li>
</ul>
</li>
<li>
<p>Great! It clicks. A &quot;click&quot; is one example of an <strong>event handler</strong> -- a &quot;trigger&quot; that invokes another action. Callbacks allow us to write some custom code in response to that trigger. On the web, event handlers are a great example of callbacks in action!</p>
<ul>
<li><strong>Ask</strong>: what are some other &quot;events&quot; that might occur on a webpage?</li>
<li><strong>Answer</strong>: form submission, typing, resizing the browser, location updates, notifications, etc.</li>
</ul>
</li>
<li>
<p>After a few answers, fill in with additional event handlers you've encountered as a developer. Let students know that the code we write to respond to these events are called <code>callback</code> functions.</p>
</li>
<li>
<p>Let's see that first hand, so we can better understand what that means for us as software developers!</p>
</li>
<li>
<p>Open up the <a href="http://localhost:8899">demo site</a> in Chrome.</p>
</li>
<li>
<p>Inform students that you've created a website that will respond to each button's &quot;click event&quot; via a <code>callback</code>.</p>
</li>
<li>
<p>Ask a student to click their button and hold it up for the room to see.</p>
<ul>
<li><strong>Ask</strong>: Observe the changes to the device and website. What changed?</li>
<li><strong>Answer</strong>: LED lights up. Background on the website changes.</li>
</ul>
</li>
<li>
<p>Ask the other student to click their button.</p>
<ul>
<li><strong>Ask</strong>: Did the same thing happen?</li>
<li><strong>Answer</strong>: The background and LED are a different color, without a doubt. However, the same process occurred, despite a different button being clicked. The experience of generating a random color and viewing it on the site and device is still the same!</li>
</ul>
</li>
<li>
<p>That's the power of callbacks! They allow us to write custom code with the intention of doing some work after something else has happened. Devs love callbacks --- syntactically, they assist in adhering to DRY development principles, allowing us to leverage the same <code>callback</code> code for groups of similar items --- just like our buttons today. Simply put: we can change the behavior of our program simply by switching up the functions we pass around. Pretty powerful, right?</p>
</li>
</ul>
<h2>[2:00] Wrap Up and Dismiss</h2>
<ul>
<li>
<p>Check in with students and ask if they have any questions regarding callbacks: theory, callback, or demonstration. If no questions, cold call a student:</p>
<ul>
<li><strong>Ask</strong>: OK, last one. One sentence, in your own words: what's a <code>callback</code>?</li>
<li><strong>Answer</strong>: Code that executes in response to an action or trigger.</li>
</ul>
</li>
<li>
<p>Praise students for grasping a difficult programming concept this afternoon, then dismiss the class.</p>
</li>
</ul>
